[{"data":1,"prerenderedAt":8},["ShallowReactive",2],{"$fv-LOv6nw7ONGTVGCgfxtNmTO1qyhqoL5fSvA04xZ7Ac":3,"$fUHOzT_fzEcCioJ0y_-c2s98HfDz40mXvz8KcCWnYeWo":5},{"body":4},"\u003Ch1 id=\"installation\">\u003Cspan class=\"title\">Installation\u003Ca class=\"anchor-link\" href=\"#installation\">#\u003C/a>\u003C/span>\u003C/h1>\u003Ch2 id=\"requirements\">\u003Cspan class=\"title\">Requirements\u003Ca class=\"anchor-link\" href=\"#requirements\">#\u003C/a>\u003C/span>\u003C/h2>\u003Cp>Depending on your project targets, you need at least :\u003C/p>\n\u003Cul>\n\u003Cli>Android : API level 21 (Android 5.0), which corresponds to minimum Android version supported by Flutter.\nNote that attributes don&#39;t work on Android 6.0 and below\n(see \u003Ca href=\"https://issuetracker.google.com/issues/37020436\">this ticket\u003C/a> for more details).\u003C/li>\n\u003Cli>iOS : 13.0, because Bonsoir relies on \u003Ccode>NWBrowser\u003C/code>.\u003C/li>\n\u003Cli>macOS : 10.15 (El Capitan), for the same reason as above.\u003C/li>\n\u003Cli>Windows : Win 10 (19H1/1903) (Mai 2019 Update).\nThe \u003Ca href=\"https://msdn.microsoft.com/en-us/library/windows.networking.servicediscovery.dnssd.aspx\">WIN32 DNS-SD API\u003C/a>\nhas been exposed from, at least, that version.\u003C/li>\n\u003Cli>Linux : requires \u003Ca href=\"https://www.avahi.org/\">Avahi daemon\u003C/a>, because Bonsoir uses its D-Bus interface\nfor browsing and registering mDNS/DNS-SD services.\u003C/li>\n\u003C/ul>\n\u003Cp>This plugin \u003Ca href=\"https://stackoverflow.com/a/46926325/3608831\">cannot be tested on an Android emulator\u003C/a>\n(well it can, but the only services that you are able to discover are the ones broadcasted by your emulator).\u003C/p>\n\u003Ch2 id=\"depend-on-it\">\u003Cspan class=\"title\">Depend on it\u003Ca class=\"anchor-link\" href=\"#depend-on-it\">#\u003C/a>\u003C/span>\u003C/h2>\u003Cp>In your Flutter project directory, run the following commands :\u003C/p>\n\u003Cdiv class=\"shiki-container\" data-line-count=\"2\">\u003Cpre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">flutter\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> pub\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> add\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> bonsoir\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">flutter\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> pub\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> get\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\n\u003Ch2 id=\"additional-instructions\">\u003Cspan class=\"title\">Additional instructions\u003Ca class=\"anchor-link\" href=\"#additional-instructions\">#\u003C/a>\u003C/span>\u003C/h2>\u003Ch3 id=\"ios\">\u003Cspan class=\"title\">iOS\u003Ca class=\"anchor-link\" href=\"#ios\">#\u003C/a>\u003C/span>\u003C/h3>\u003Cp>If you want to use this plugin on iOS, you must update your deployment target to \u003Cem>at least\u003C/em> 13.0.\nAt the top of \u003Ccode>ios/Podfile\u003C/code>, add the following :\u003C/p>\n\u003Cdiv class=\"shiki-container\" data-line-count=\"1\" data-filename=\"ios/Podfile\">\u003Cpre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">platform\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> :ios,\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '13.0'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\n\u003Cp>Also, open your iOS project in Xcode and select Runner, Targets -&gt; Runner and then the &quot;General&quot; tab.\nUnder the &quot;Minimum Deployments&quot; section, update the iOS version to 13.0 or higher.\u003C/p>\n\u003Cp>If you&#39;re building your app for iOS 14 or higher, you have to edit your \u003Ccode>Info.plist\u003C/code> file. Just add\nthe following lines :\u003C/p>\n\u003Cdiv class=\"shiki-container\" data-line-count=\"9\" data-filename=\"ios/Info.plist\">\u003Cpre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">key\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>NSLocalNetworkUsageDescription&#x3C;/\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">key\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>Describe here why you want to use Bonsoir.&#x3C;/\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">key\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>NSBonjourServices&#x3C;/\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">key\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">array\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">\t&#x3C;\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>_first-service._tcp&#x3C;/\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">\t&#x3C;\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>_second-service._tcp&#x3C;/\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">\t&#x3C;\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>_third-service._tcp&#x3C;/\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">string\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">\t&#x3C;!-- Add more here -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#85E89D\">array\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\n\u003Cp>Don&#39;t forget to edit them according to your needs.\u003C/p>\n\u003Ch3 id=\"macos\">\u003Cspan class=\"title\">macOS\u003Ca class=\"anchor-link\" href=\"#macos\">#\u003C/a>\u003C/span>\u003C/h3>\u003Cp>If you want to use this plugin on macOS, you must update your deployment target to \u003Cem>at least\u003C/em> 10.15.\nAt the top of \u003Ccode>macos/Podfile\u003C/code>, add the following :\u003C/p>\n\u003Cdiv class=\"shiki-container\" data-line-count=\"1\" data-filename=\"macos/Podfile\">\u003Cpre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">platform\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> :ios,\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '10.15'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\n\u003Cp>Also, open your macOS project in Xcode and select Runner, Targets -&gt; Runner and then the &quot;General&quot; tab.\nUnder the &quot;Minimum Deployments&quot; section, update the macOS version to 10.15 or higher.\u003C/p>\n\u003Ch3 id=\"linux\">\u003Cspan class=\"title\">Linux\u003Ca class=\"anchor-link\" href=\"#linux\">#\u003C/a>\u003C/span>\u003C/h3>\u003Cp>If you don&#39;t have Avahi installed on your system, just install it using :\u003C/p>\n\u003Cdiv class=\"shiki-container\" data-line-count=\"1\">\u003Cpre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> apt\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> install\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#79B8FF\"> -y\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> avahi-daemon\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> avahi-discover\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> avahi-utils\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> libnss-mdns\u003C/span>\u003Cspan style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> mdns-scan\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\n\u003Ch1 id=\"getting-started\">\u003Cspan class=\"title\">Getting started\u003Ca class=\"anchor-link\" href=\"#getting-started\">#\u003C/a>\u003C/span>\u003C/h1>\u003Cp>Bonsoir has been made to be as easy to use as possible.\u003C/p>\n\u003Ch2 id=\"broadcast-a-service\">\u003Cspan class=\"title\">Broadcast a service\u003Ca class=\"anchor-link\" href=\"#broadcast-a-service\">#\u003C/a>\u003C/span>\u003C/h2>\u003Cp>Here is how you can broadcast your service using \u003Cem>Bonsoir\u003C/em> :\u003C/p>\n\u003Cdiv class=\"shiki-container\" data-line-count=\"16\">\u003Cpre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Let's create our service !\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\">BonsoirService\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> service \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">=\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirService\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  name\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\"> 'My wonderful service'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Put your service name here.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  type\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '_wonderful-service._tcp'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Put your service type here. Syntax : _ServiceType._TransportProtocolName. (see http://wiki.ros.org/zeroconf/Tutorials/Understanding%20Zeroconf%20Service%20Types).\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  port\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> 3030\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Put your service port here.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// And now we can broadcast it :\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\">BonsoirBroadcast\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">=\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirBroadcast\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(service\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> service);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">await\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">initialize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">await\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">start\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// ...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Then if you want to stop the broadcast :\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">await\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">stop\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\n\u003Ch2 id=\"discover-services\">\u003Cspan class=\"title\">Discover services\u003Ca class=\"anchor-link\" href=\"#discover-services\">#\u003C/a>\u003C/span>\u003C/h2>\u003Cp>Here is how you can search for a broadcasted service :\u003C/p>\n\u003Cdiv class=\"shiki-container\" data-line-count=\"34\">\u003Cpre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// This is the type of service we're looking for :\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\">String\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> type \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">=\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '_wonderful-service._tcp'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Once defined, we can start the discovery :\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\">BonsoirDiscovery\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">=\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscovery\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(type\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> type);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">await\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">initialize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// If you want to listen to the discovery :\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">discovery.eventStream\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">listen\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">((event) { \u003C/span>\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// `eventStream` is not null as the discovery instance is \"ready\" !\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">  switch\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> (event) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceFoundEvent\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service found : \u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">${\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">event\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">service\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">      event.service\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">resolve\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(discovery.serviceResolver); \u003C/span>\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Should be called when the user wants to connect to this service.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceResolvedEvent\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service resolved : \u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">${\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">event\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">service\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceUpdatedEvent\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service updated : \u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">${\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">event\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">service\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceLostEvent\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service lost : \u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">${\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">event\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">service\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">    default:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Another event occurred : \u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">$\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#79B8FF\">event\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#9ECBFF\">.'\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Start the discovery **after** listening to discovery events :\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">await\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">start\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Then if you want to stop the discovery :\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#F97583\">await\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery.\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\">stop\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/div>\n\u003Cp>\u003Cstrong>Note.\u003C/strong> If you&#39;re transitioning from \u003Ccode>multicast_dns\u003C/code>, note that types don&#39;t end with \u003Cq>.local\u003C/q>.\u003C/p>\n\u003Ch1 id=\"in-depth-example\">\u003Cspan class=\"title\">In-depth example\u003Ca class=\"anchor-link\" href=\"#in-depth-example\">#\u003C/a>\u003C/span>\u003C/h1>\u003Cp>If you want a \u003Cq>full\u003C/q> example, don&#39;t hesitate to check\n\u003Ca href=\"https://github.com/Skyost/Bonsoir/tree/main/packages/bonsoir/example\">this one\u003C/a> on Github.\u003C/p>\n\u003Cp>To run it :\u003C/p>\n\u003Col>\n\u003Cli>\u003Ca href=\"https://melos.invertase.dev/~melos-latest/getting-started#installation\">Install Melos\u003C/a>.\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/Skyost/Bonsoir/archive/refs/heads/main.zip\">Clone the repository\u003C/a>.\u003C/li>\n\u003Cli>Run \u003Ccode>melos bs\u003C/code>.\u003C/li>\n\u003Cli>Go to the \u003Ccode>packages/bonsoir/example\u003C/code> directory, and run \u003Ccode>flutter run\u003C/code>.\u003C/li>\n\u003C/ol>\n\u003Ch1 id=\"contribute\">\u003Cspan class=\"title\">Contribute\u003Ca class=\"anchor-link\" href=\"#contribute\">#\u003C/a>\u003C/span>\u003C/h1>\u003Cp>You have a lot of options to contribute to this project ! You can :\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://github.com/Skyost/Bonsoir/fork\">Fork it\u003C/a> on Github to submit your pull requests.\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/Skyost/Bonsoir/issues/new/choose\">Submit\u003C/a> a feature request or a bug report.\u003C/li>\n\u003Cli>\u003Ca href=\"https://paypal.me/Skyost\">Donate\u003C/a> to the developer.\u003C/li>\n\u003C/ul>\n\u003Ch1 id=\"about\">\u003Cspan class=\"title\">About\u003Ca class=\"anchor-link\" href=\"#about\">#\u003C/a>\u003C/span>\u003C/h1>\u003Cp>This plugin was initially created to use in my game, \u003Ca href=\"https://werewolf.skyost.eu\">Mobile Werewolf\u003C/a>.\nIt is an unofficial mobile version of the famous board game Mafia / Werewolves.\nIn this game, players can play against each others via Wi-Fi, so Bonsoir allows them to easily broadcast,\ndiscover and join local network parties.\u003C/p>\n\u003Cp style=\"display-block; text-align: center;\">\n  \u003Ca href=\"https://apps.apple.com/app/id1504559806\" class=\"mb-1 mb-sm-0\" style=\"display: inline-block; width: 200px; max-width: 90%;\">\n    \u003Cimg src=\"https://werewolf.skyost.eu/images/stores/app_store.svg\" alt=\"App Store\" style=\"width: 100%;\" />\n  \u003C/a>\n  \u003Ca href=\"https://play.google.com/store/apps/details?id=fr.skyost.werewolf\" style=\"display: inline-block; width: 200px; max-width: 90%;\">\n    \u003Cimg src=\"https://werewolf.skyost.eu/images/stores/play_store.svg\" alt=\"Play Store\" style=\"width: 100%;\" />\n  \u003C/a>\n\u003C/p>\n\n\u003Cp>The hand icon has been created by \u003Ca href=\"https://www.flaticon.com/authors/vitaly-gorbachev\">Vitaly Gorbachev\u003C/a>.\u003C/p>\n",{"long":6,"short":7},"ada7683fa847dfbcebec70dce7c60bb57b41a151","ada7683",1753966977326]