{"body":"<h1 id=\"installation\"><span class=\"title\">Installation<a class=\"anchor-link\" href=\"#installation\">#</a></span></h1><h2 id=\"requirements\"><span class=\"title\">Requirements<a class=\"anchor-link\" href=\"#requirements\">#</a></span></h2><p>Depending on your project targets, you need at least :</p>\n<ul>\n<li>Android : API level 21 (Android 5.0), which corresponds to minimum Android version supported by Flutter.\nNote that attributes don&#39;t work on Android 6.0 and below\n(see <a href=\"https://issuetracker.google.com/issues/37020436\">this ticket</a> for more details).</li>\n<li>iOS : 13.0, because Bonsoir relies on <code>NWBrowser</code>.</li>\n<li>macOS : 10.15 (El Capitan), for the same reason as above.</li>\n<li>Windows : Win 10 (19H1/1903) (Mai 2019 Update).\nThe <a href=\"https://msdn.microsoft.com/en-us/library/windows.networking.servicediscovery.dnssd.aspx\">WIN32 DNS-SD API</a>\nhas been exposed from, at least, that version.</li>\n<li>Linux : requires <a href=\"https://www.avahi.org/\">Avahi daemon</a>, because Bonsoir uses its D-Bus interface\nfor browsing and registering mDNS/DNS-SD services.</li>\n</ul>\n<p>This plugin <a href=\"https://stackoverflow.com/a/46926325/3608831\">cannot be tested on an Android emulator</a>\n(well it can, but the only services that you are able to discover are the ones broadcasted by your emulator).</p>\n<h2 id=\"depend-on-it\"><span class=\"title\">Depend on it<a class=\"anchor-link\" href=\"#depend-on-it\">#</a></span></h2><p>In your Flutter project directory, run the following commands :</p>\n<div class=\"shiki-container\" data-line-count=\"2\"><pre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">flutter</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> pub</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> add</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> bonsoir</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">flutter</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> pub</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> get</span></span></code></pre></div>\n<h2 id=\"additional-instructions\"><span class=\"title\">Additional instructions<a class=\"anchor-link\" href=\"#additional-instructions\">#</a></span></h2><h3 id=\"ios\"><span class=\"title\">iOS<a class=\"anchor-link\" href=\"#ios\">#</a></span></h3><p>If you want to use this plugin on iOS, you must update your deployment target to <em>at least</em> 13.0.\nAt the top of <code>ios/Podfile</code>, add the following :</p>\n<div class=\"shiki-container\" data-line-count=\"1\" data-filename=\"ios/Podfile\"><pre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">platform</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> :ios,</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '13.0'</span></span></code></pre></div>\n<p>Also, open your iOS project in Xcode and select Runner, Targets -&gt; Runner and then the &quot;General&quot; tab.\nUnder the &quot;Minimum Deployments&quot; section, update the iOS version to 13.0 or higher.</p>\n<p>If you&#39;re building your app for iOS 14 or higher, you have to edit your <code>Info.plist</code> file. Just add\nthe following lines :</p>\n<div class=\"shiki-container\" data-line-count=\"9\" data-filename=\"ios/Info.plist\"><pre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">key</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>NSLocalNetworkUsageDescription&#x3C;/</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">key</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>Describe here why you want to use Bonsoir.&#x3C;/</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">key</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>NSBonjourServices&#x3C;/</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">key</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">array</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">\t&#x3C;</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>_first-service._tcp&#x3C;/</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">\t&#x3C;</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>_second-service._tcp&#x3C;/</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">\t&#x3C;</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">>_third-service._tcp&#x3C;/</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">string</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">\t&#x3C;!-- Add more here --></span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">&#x3C;/</span><span style=\"color:#22863A;--shiki-dark:#85E89D\">array</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">></span></span></code></pre></div>\n<p>Don&#39;t forget to edit them according to your needs.</p>\n<h3 id=\"macos\"><span class=\"title\">macOS<a class=\"anchor-link\" href=\"#macos\">#</a></span></h3><p>If you want to use this plugin on macOS, you must update your deployment target to <em>at least</em> 10.15.\nAt the top of <code>macos/Podfile</code>, add the following :</p>\n<div class=\"shiki-container\" data-line-count=\"1\" data-filename=\"macos/Podfile\"><pre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">platform</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> :ios,</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '10.15'</span></span></code></pre></div>\n<p>Also, open your macOS project in Xcode and select Runner, Targets -&gt; Runner and then the &quot;General&quot; tab.\nUnder the &quot;Minimum Deployments&quot; section, update the macOS version to 10.15 or higher.</p>\n<h3 id=\"linux\"><span class=\"title\">Linux<a class=\"anchor-link\" href=\"#linux\">#</a></span></h3><p>If you don&#39;t have Avahi installed on your system, just install it using :</p>\n<div class=\"shiki-container\" data-line-count=\"1\"><pre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">sudo</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> apt</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> install</span><span style=\"color:#2B5581;--shiki-dark:#79B8FF\"> -y</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> avahi-daemon</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> avahi-discover</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> avahi-utils</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> libnss-mdns</span><span style=\"color:#2B5581;--shiki-dark:#9ECBFF\"> mdns-scan</span></span></code></pre></div>\n<h1 id=\"getting-started\"><span class=\"title\">Getting started<a class=\"anchor-link\" href=\"#getting-started\">#</a></span></h1><p>Bonsoir has been made to be as easy to use as possible.</p>\n<h2 id=\"broadcast-a-service\"><span class=\"title\">Broadcast a service<a class=\"anchor-link\" href=\"#broadcast-a-service\">#</a></span></h2><p>Here is how you can broadcast your service using <em>Bonsoir</em> :</p>\n<div class=\"shiki-container\" data-line-count=\"16\"><pre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Let's create our service !</span></span>\n<span class=\"line\"><span style=\"color:#1976D2;--shiki-dark:#79B8FF\">BonsoirService</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> service </span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">=</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirService</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  name</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\"> 'My wonderful service'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Put your service name here.</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  type</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '_wonderful-service._tcp'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Put your service type here. Syntax : _ServiceType._TransportProtocolName. (see http://wiki.ros.org/zeroconf/Tutorials/Understanding%20Zeroconf%20Service%20Types).</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  port</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> 3030</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Put your service port here.</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// And now we can broadcast it :</span></span>\n<span class=\"line\"><span style=\"color:#1976D2;--shiki-dark:#79B8FF\">BonsoirBroadcast</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast </span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">=</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirBroadcast</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(service</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> service);</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">await</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">initialize</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">await</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">start</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// ...</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Then if you want to stop the broadcast :</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">await</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> broadcast.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">stop</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();</span></span></code></pre></div>\n<h2 id=\"discover-services\"><span class=\"title\">Discover services<a class=\"anchor-link\" href=\"#discover-services\">#</a></span></h2><p>Here is how you can search for a broadcasted service :</p>\n<div class=\"shiki-container\" data-line-count=\"34\"><pre class=\"shiki shiki-themes min-light github-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#24292e;color:#24292eff;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// This is the type of service we're looking for :</span></span>\n<span class=\"line\"><span style=\"color:#1976D2;--shiki-dark:#79B8FF\">String</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> type </span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">=</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\"> '_wonderful-service._tcp'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Once defined, we can start the discovery :</span></span>\n<span class=\"line\"><span style=\"color:#1976D2;--shiki-dark:#79B8FF\">BonsoirDiscovery</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery </span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">=</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscovery</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(type</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> type);</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">await</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">initialize</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// If you want to listen to the discovery :</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">discovery.eventStream</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">!</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">listen</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">((event) { </span><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// `eventStream` is not null as the discovery instance is \"ready\" !</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">  switch</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> (event) {</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">    case</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceFoundEvent</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service found : </span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">${</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">event</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">service</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">      event.service</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">!</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">resolve</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(discovery.serviceResolver); </span><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Should be called when the user wants to connect to this service.</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">      break</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">    case</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceResolvedEvent</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service resolved : </span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">${</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">event</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">service</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">      break</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">    case</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceUpdatedEvent</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service updated : </span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">${</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">event</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">service</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">      break</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">    case</span><span style=\"color:#1976D2;--shiki-dark:#79B8FF\"> BonsoirDiscoveryServiceLostEvent</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D32F2F;--shiki-dark:#F97583\">:</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Service lost : </span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">${</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">event</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">service</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">toJson</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">()}</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">      break</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">    default:</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">      print</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">'Another event occurred : </span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">$</span><span style=\"color:#22863A;--shiki-dark:#79B8FF\">event</span><span style=\"color:#22863A;--shiki-dark:#9ECBFF\">.'</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">      break</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Start the discovery **after** listening to discovery events :</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">await</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">start</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#C2C3C5;--shiki-dark:#6A737D\">// Then if you want to stop the discovery :</span></span>\n<span class=\"line\"><span style=\"color:#D32F2F;--shiki-dark:#F97583\">await</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\"> discovery.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">stop</span><span style=\"color:#24292EFF;--shiki-dark:#E1E4E8\">();</span></span></code></pre></div>\n<p><strong>Note.</strong> If you&#39;re transitioning from <code>multicast_dns</code>, note that types don&#39;t end with <q>.local</q>.</p>\n<h1 id=\"in-depth-example\"><span class=\"title\">In-depth example<a class=\"anchor-link\" href=\"#in-depth-example\">#</a></span></h1><p>If you want a <q>full</q> example, don&#39;t hesitate to check\n<a href=\"https://github.com/Skyost/Bonsoir/tree/main/packages/bonsoir/example\">this one</a> on Github.</p>\n<p>To run it :</p>\n<ol>\n<li><a href=\"https://melos.invertase.dev/~melos-latest/getting-started#installation\">Install Melos</a>.</li>\n<li><a href=\"https://github.com/Skyost/Bonsoir/archive/refs/heads/main.zip\">Clone the repository</a>.</li>\n<li>Run <code>melos bs</code>.</li>\n<li>Go to the <code>packages/bonsoir/example</code> directory, and run <code>flutter run</code>.</li>\n</ol>\n<h1 id=\"contribute\"><span class=\"title\">Contribute<a class=\"anchor-link\" href=\"#contribute\">#</a></span></h1><p>You have a lot of options to contribute to this project ! You can :</p>\n<ul>\n<li><a href=\"https://github.com/Skyost/Bonsoir/fork\">Fork it</a> on Github to submit your pull requests.</li>\n<li><a href=\"https://github.com/Skyost/Bonsoir/issues/new/choose\">Submit</a> a feature request or a bug report.</li>\n<li><a href=\"https://paypal.me/Skyost\">Donate</a> to the developer.</li>\n</ul>\n<h1 id=\"about\"><span class=\"title\">About<a class=\"anchor-link\" href=\"#about\">#</a></span></h1><p>This plugin was initially created to use in my game, <a href=\"https://werewolf.skyost.eu\">Mobile Werewolf</a>.\nIt is an unofficial mobile version of the famous board game Mafia / Werewolves.\nIn this game, players can play against each others via Wi-Fi, so Bonsoir allows them to easily broadcast,\ndiscover and join local network parties.</p>\n<p style=\"display-block; text-align: center;\">\n  <a href=\"https://apps.apple.com/app/id1504559806\" class=\"mb-1 mb-sm-0\" style=\"display: inline-block; width: 200px; max-width: 90%;\">\n    <img src=\"https://werewolf.skyost.eu/images/stores/app_store.svg\" alt=\"App Store\" style=\"width: 100%;\" />\n  </a>\n  <a href=\"https://play.google.com/store/apps/details?id=fr.skyost.werewolf\" style=\"display: inline-block; width: 200px; max-width: 90%;\">\n    <img src=\"https://werewolf.skyost.eu/images/stores/play_store.svg\" alt=\"Play Store\" style=\"width: 100%;\" />\n  </a>\n</p>\n\n<p>The hand icon has been created by <a href=\"https://www.flaticon.com/authors/vitaly-gorbachev\">Vitaly Gorbachev</a>.</p>\n"}